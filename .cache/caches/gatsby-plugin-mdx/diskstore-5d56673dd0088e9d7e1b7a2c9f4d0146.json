{"expireTime":9007200888121413000,"key":"gatsby-plugin-mdx-entire-payload-305fa2e392a93ae93b07ca2c795b0399--undefined","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import Button from \"../../src/components/button\"","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":49,"offset":49},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For years Virtual Private Networks have been used by corporations to provide a secure channel to employees for access to sensitive company data or systems. In simple terms, a VPN server acts as a proxy and all network traffic is routed through it, encapsulated, encrypted and delivered to the end-user. This type of private secure delivery doesn't only have business applications, though.","position":{"start":{"line":4,"column":1,"offset":51},"end":{"line":4,"column":389,"offset":439},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":51},"end":{"line":4,"column":389,"offset":439},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Internet privacy ","position":{"start":{"line":6,"column":1,"offset":441},"end":{"line":6,"column":18,"offset":458},"indent":[]}},{"type":"link","title":null,"url":"https://www.aclu.org/issues/privacy-technology/internet-privacy/status-internet-privacy-legislation-state","children":[{"type":"text","value":"laws have been changing","position":{"start":{"line":6,"column":19,"offset":459},"end":{"line":6,"column":42,"offset":482},"indent":[]}}],"position":{"start":{"line":6,"column":18,"offset":458},"end":{"line":6,"column":150,"offset":590},"indent":[]}},{"type":"text","value":". ","position":{"start":{"line":6,"column":150,"offset":590},"end":{"line":6,"column":152,"offset":592},"indent":[]}},{"type":"link","title":null,"url":"https://www.huffingtonpost.com/entry/republicans-are-about-to-kill-rules-banning-internet-providers-from-sharing-your-web-history-without-your-consent_us_58d9a4cbe4b00f68a5ca2c7c","children":[{"type":"text","value":"A lot","position":{"start":{"line":6,"column":153,"offset":593},"end":{"line":6,"column":158,"offset":598},"indent":[]}}],"position":{"start":{"line":6,"column":152,"offset":592},"end":{"line":6,"column":339,"offset":779},"indent":[]}},{"type":"text","value":". Internet Service Providers have unprecedented access to record and analyze your online activity, and a VPN can be a good defense against such prying. There is also the added benefit of spoofing your geographic location (IP-based geolocation services would pick up the location of the VPN server that you connect to, not your physical location), which is a great way to stream Netflix while vacationing out of the country.","position":{"start":{"line":6,"column":339,"offset":779},"end":{"line":6,"column":762,"offset":1202},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":441},"end":{"line":6,"column":762,"offset":1202},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Having a VPN server laying around for this type of personal use has historically been cost-prohibitive. But we live in 2018 now, and cloud-based hosting is very cheap (or free) and a lot of IP security tools are open source. This is great if you're willing to tinker with the setup to make it work for you ‚Äî which hopefully this post can help with.","position":{"start":{"line":8,"column":1,"offset":1204},"end":{"line":8,"column":349,"offset":1552},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":1204},"end":{"line":8,"column":349,"offset":1552},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Open Source to the rescue","position":{"start":{"line":10,"column":4,"offset":1557},"end":{"line":10,"column":29,"offset":1582},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":1554},"end":{"line":10,"column":29,"offset":1582},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://blog.trailofbits.com/2016/12/12/meet-algo-the-vpn-that-works/","children":[{"type":"text","value":"Algo VPN","position":{"start":{"line":12,"column":2,"offset":1585},"end":{"line":12,"column":10,"offset":1593},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":1584},"end":{"line":12,"column":82,"offset":1665},"indent":[]}},{"type":"text","value":" is an open source VPN server geared toward security and ease-of-use. It comes with IPSec features that make allow you to secure your sessions out-of-the-box. Here is a quick set up guide and some issues that I ran into while setting it up for the first time.","position":{"start":{"line":12,"column":82,"offset":1665},"end":{"line":12,"column":341,"offset":1924},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":1584},"end":{"line":12,"column":341,"offset":1924},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"1. Figure out where you want to host this","position":{"start":{"line":14,"column":5,"offset":1930},"end":{"line":14,"column":46,"offset":1971},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":1926},"end":{"line":14,"column":46,"offset":1971},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I choose Digital Ocean because it was easy, required next to no setup, and costs less than five bucks a month (and comes with a ten dollar referral credit). If you want a setup like mine, use this link to create your account... ","position":{"start":{"line":16,"column":1,"offset":1973},"end":{"line":16,"column":229,"offset":2201},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Note that you don't need to configure a Droplet or anything yet, this will happen automatically later.","position":{"start":{"line":16,"column":230,"offset":2202},"end":{"line":16,"column":332,"offset":2304},"indent":[]}}],"position":{"start":{"line":16,"column":229,"offset":2201},"end":{"line":16,"column":333,"offset":2305},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":1973},"end":{"line":16,"column":333,"offset":2305},"indent":[]}},{"type":"jsx","value":"<Button href=\"https://m.do.co/c/e675b6b6aa8e\" variant=\"outline\" size=\"1\">üíÅ Sign up for Digital Ocean</Button>","position":{"start":{"line":18,"column":1,"offset":2307},"end":{"line":18,"column":111,"offset":2417},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"2. Download the VPN server source locally","position":{"start":{"line":20,"column":5,"offset":2423},"end":{"line":20,"column":46,"offset":2464},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":2419},"end":{"line":20,"column":46,"offset":2464},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/trailofbits/algo","children":[{"type":"text","value":"Algo's source is hosted on GitHub","position":{"start":{"line":22,"column":2,"offset":2467},"end":{"line":22,"column":35,"offset":2500},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":2466},"end":{"line":22,"column":73,"offset":2538},"indent":[]}},{"type":"text","value":", you can download a ","position":{"start":{"line":22,"column":73,"offset":2538},"end":{"line":22,"column":94,"offset":2559},"indent":[]}},{"type":"inlineCode","value":"zip","position":{"start":{"line":22,"column":94,"offset":2559},"end":{"line":22,"column":99,"offset":2564},"indent":[]}},{"type":"text","value":" file of the source:","position":{"start":{"line":22,"column":99,"offset":2564},"end":{"line":22,"column":119,"offset":2584},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":2466},"end":{"line":22,"column":119,"offset":2584},"indent":[]}},{"type":"jsx","value":"<Button href=\"https://github.com/trailofbits/algo/archive/master.zip\" variant=\"outline\" size=\"1\">‚¨á Algo VPN source (.zip)</Button>","position":{"start":{"line":24,"column":1,"offset":2586},"end":{"line":24,"column":131,"offset":2716},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Extract the ","position":{"start":{"line":26,"column":1,"offset":2718},"end":{"line":26,"column":13,"offset":2730},"indent":[]}},{"type":"inlineCode","value":"zip","position":{"start":{"line":26,"column":13,"offset":2730},"end":{"line":26,"column":18,"offset":2735},"indent":[]}},{"type":"text","value":" file. This will create a folder called ","position":{"start":{"line":26,"column":18,"offset":2735},"end":{"line":26,"column":58,"offset":2775},"indent":[]}},{"type":"inlineCode","value":"algo-master","position":{"start":{"line":26,"column":58,"offset":2775},"end":{"line":26,"column":71,"offset":2788},"indent":[]}},{"type":"text","value":". Rename it to whatever you want and put it somewhere that you'll remember. For the purposes of these instructions, let's rename it ","position":{"start":{"line":26,"column":71,"offset":2788},"end":{"line":26,"column":203,"offset":2920},"indent":[]}},{"type":"inlineCode","value":"algo-vpn","position":{"start":{"line":26,"column":203,"offset":2920},"end":{"line":26,"column":213,"offset":2930},"indent":[]}},{"type":"text","value":". The rest of these instructions assume that you're on a Mac, as that is what I used... but there are ","position":{"start":{"line":26,"column":213,"offset":2930},"end":{"line":26,"column":315,"offset":3032},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/trailofbits/algo#deploy-the-algo-server","children":[{"type":"text","value":"Linux and Windows-based docs","position":{"start":{"line":26,"column":316,"offset":3033},"end":{"line":26,"column":344,"offset":3061},"indent":[]}}],"position":{"start":{"line":26,"column":315,"offset":3032},"end":{"line":26,"column":405,"offset":3122},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":26,"column":405,"offset":3122},"end":{"line":26,"column":406,"offset":3123},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":2718},"end":{"line":26,"column":406,"offset":3123},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"3. Configure the server locally","position":{"start":{"line":28,"column":5,"offset":3129},"end":{"line":28,"column":36,"offset":3160},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":3125},"end":{"line":28,"column":36,"offset":3160},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Fire up Terminal and ","position":{"start":{"line":30,"column":1,"offset":3162},"end":{"line":30,"column":22,"offset":3183},"indent":[]}},{"type":"inlineCode","value":"cd","position":{"start":{"line":30,"column":22,"offset":3183},"end":{"line":30,"column":26,"offset":3187},"indent":[]}},{"type":"text","value":" to your ","position":{"start":{"line":30,"column":26,"offset":3187},"end":{"line":30,"column":35,"offset":3196},"indent":[]}},{"type":"inlineCode","value":"algo-vpn","position":{"start":{"line":30,"column":35,"offset":3196},"end":{"line":30,"column":45,"offset":3206},"indent":[]}},{"type":"text","value":" folder...","position":{"start":{"line":30,"column":45,"offset":3206},"end":{"line":30,"column":55,"offset":3216},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":3162},"end":{"line":30,"column":55,"offset":3216},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The first thing you want to do is check to see if you have ","position":{"start":{"line":32,"column":1,"offset":3218},"end":{"line":32,"column":60,"offset":3277},"indent":[]}},{"type":"inlineCode","value":"python","position":{"start":{"line":32,"column":60,"offset":3277},"end":{"line":32,"column":68,"offset":3285},"indent":[]}},{"type":"text","value":" installed...","position":{"start":{"line":32,"column":68,"offset":3285},"end":{"line":32,"column":81,"offset":3298},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":3218},"end":{"line":32,"column":81,"offset":3298},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"$ which python","position":{"start":{"line":34,"column":1,"offset":3300},"end":{"line":36,"column":4,"offset":3327},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You may get back ","position":{"start":{"line":38,"column":1,"offset":3329},"end":{"line":38,"column":18,"offset":3346},"indent":[]}},{"type":"inlineCode","value":"python not found","position":{"start":{"line":38,"column":18,"offset":3346},"end":{"line":38,"column":36,"offset":3364},"indent":[]}},{"type":"text","value":" (which means you need to install Python 2) or something like ","position":{"start":{"line":38,"column":36,"offset":3364},"end":{"line":38,"column":98,"offset":3426},"indent":[]}},{"type":"inlineCode","value":"/usr/local/bin/python2","position":{"start":{"line":38,"column":98,"offset":3426},"end":{"line":38,"column":122,"offset":3450},"indent":[]}},{"type":"text","value":" (which means you already have it) or, in my case ","position":{"start":{"line":38,"column":122,"offset":3450},"end":{"line":38,"column":172,"offset":3500},"indent":[]}},{"type":"inlineCode","value":"python: aliased to python3","position":{"start":{"line":38,"column":172,"offset":3500},"end":{"line":38,"column":200,"offset":3528},"indent":[]}},{"type":"text","value":"...","position":{"start":{"line":38,"column":200,"offset":3528},"end":{"line":38,"column":203,"offset":3531},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":3329},"end":{"line":38,"column":203,"offset":3531},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Algo ","position":{"start":{"line":40,"column":1,"offset":3533},"end":{"line":40,"column":6,"offset":3538},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"requires","position":{"start":{"line":40,"column":7,"offset":3539},"end":{"line":40,"column":15,"offset":3547},"indent":[]}}],"position":{"start":{"line":40,"column":6,"offset":3538},"end":{"line":40,"column":16,"offset":3548},"indent":[]}},{"type":"text","value":" Python 2. If you're unsure what version you're running ","position":{"start":{"line":40,"column":16,"offset":3548},"end":{"line":40,"column":72,"offset":3604},"indent":[]}},{"type":"inlineCode","value":"python --version","position":{"start":{"line":40,"column":72,"offset":3604},"end":{"line":40,"column":90,"offset":3622},"indent":[]}},{"type":"text","value":" will give you a clue.","position":{"start":{"line":40,"column":90,"offset":3622},"end":{"line":40,"column":112,"offset":3644},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":3533},"end":{"line":40,"column":112,"offset":3644},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"$ python --version\nPython 3.6.3","position":{"start":{"line":42,"column":1,"offset":3646},"end":{"line":45,"column":4,"offset":3690},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"So I'm running Python 3 (which I installed from ","position":{"start":{"line":47,"column":1,"offset":3692},"end":{"line":47,"column":49,"offset":3740},"indent":[]}},{"type":"link","title":null,"url":"https://brew.sh","children":[{"type":"text","value":"Homebrew","position":{"start":{"line":47,"column":50,"offset":3741},"end":{"line":47,"column":58,"offset":3749},"indent":[]}}],"position":{"start":{"line":47,"column":49,"offset":3740},"end":{"line":47,"column":76,"offset":3767},"indent":[]}},{"type":"text","value":"). This means that I need also install Python 2 and tell my computer to use it and not Python 3 for this...","position":{"start":{"line":47,"column":76,"offset":3767},"end":{"line":47,"column":183,"offset":3874},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":3692},"end":{"line":47,"column":183,"offset":3874},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"$ brew install python2","position":{"start":{"line":49,"column":1,"offset":3876},"end":{"line":51,"column":4,"offset":3911},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Ok, now let's see how my Python versions are setup:","position":{"start":{"line":53,"column":1,"offset":3913},"end":{"line":53,"column":52,"offset":3964},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":3913},"end":{"line":53,"column":52,"offset":3964},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"$ which python\npython: aliased to python3","position":{"start":{"line":55,"column":1,"offset":3966},"end":{"line":58,"column":4,"offset":4020},"indent":[1,1,1]}},{"type":"code","lang":"shell","meta":null,"value":"$ python --version\nPython 3.6.3","position":{"start":{"line":60,"column":1,"offset":4022},"end":{"line":63,"column":4,"offset":4066},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"üëç I wanted this to remain my default Python for other nerdy shit that I'm into.","position":{"start":{"line":65,"column":1,"offset":4068},"end":{"line":65,"column":81,"offset":4148},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":4068},"end":{"line":65,"column":81,"offset":4148},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"$ python2 --version\nPython 2.7.14","position":{"start":{"line":67,"column":1,"offset":4150},"end":{"line":70,"column":4,"offset":4196},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"üëçüëç I now have access to Python 2 using ","position":{"start":{"line":72,"column":1,"offset":4198},"end":{"line":72,"column":42,"offset":4239},"indent":[]}},{"type":"inlineCode","value":"python2","position":{"start":{"line":72,"column":42,"offset":4239},"end":{"line":72,"column":51,"offset":4248},"indent":[]}},{"type":"text","value":" from the command line.","position":{"start":{"line":72,"column":51,"offset":4248},"end":{"line":72,"column":74,"offset":4271},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":4198},"end":{"line":72,"column":74,"offset":4271},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Now we can follow the install instructions from the ","position":{"start":{"line":74,"column":1,"offset":4273},"end":{"line":74,"column":53,"offset":4325},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/trailofbits/algo","children":[{"type":"text","value":"Algo GitHub repo","position":{"start":{"line":74,"column":54,"offset":4326},"end":{"line":74,"column":70,"offset":4342},"indent":[]}}],"position":{"start":{"line":74,"column":53,"offset":4325},"end":{"line":74,"column":108,"offset":4380},"indent":[]}},{"type":"text","value":", replacing the ","position":{"start":{"line":74,"column":108,"offset":4380},"end":{"line":74,"column":124,"offset":4396},"indent":[]}},{"type":"inlineCode","value":"python","position":{"start":{"line":74,"column":124,"offset":4396},"end":{"line":74,"column":132,"offset":4404},"indent":[]}},{"type":"text","value":" command to use ","position":{"start":{"line":74,"column":132,"offset":4404},"end":{"line":74,"column":148,"offset":4420},"indent":[]}},{"type":"inlineCode","value":"python2","position":{"start":{"line":74,"column":148,"offset":4420},"end":{"line":74,"column":157,"offset":4429},"indent":[]}},{"type":"text","value":" instead...","position":{"start":{"line":74,"column":157,"offset":4429},"end":{"line":74,"column":168,"offset":4440},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":4273},"end":{"line":74,"column":168,"offset":4440},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"$ python2 -m virtualenv --python=`which python2` env && source env/bin/activate && python2 -m pip install -U pip && python2 -m pip install -r requirements.txt","position":{"start":{"line":76,"column":1,"offset":4442},"end":{"line":78,"column":4,"offset":4613},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"but","position":{"start":{"line":80,"column":2,"offset":4616},"end":{"line":80,"column":5,"offset":4619},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":4615},"end":{"line":80,"column":6,"offset":4620},"indent":[]}},{"type":"text","value":" this doesn't work because my Python 2 doesn't have the ","position":{"start":{"line":80,"column":6,"offset":4620},"end":{"line":80,"column":62,"offset":4676},"indent":[]}},{"type":"inlineCode","value":"virtualenv","position":{"start":{"line":80,"column":62,"offset":4676},"end":{"line":80,"column":74,"offset":4688},"indent":[]}},{"type":"text","value":" module installed yet. To install ","position":{"start":{"line":80,"column":74,"offset":4688},"end":{"line":80,"column":108,"offset":4722},"indent":[]}},{"type":"inlineCode","value":"virtualenv","position":{"start":{"line":80,"column":108,"offset":4722},"end":{"line":80,"column":120,"offset":4734},"indent":[]}},{"type":"text","value":" it, I must use ","position":{"start":{"line":80,"column":120,"offset":4734},"end":{"line":80,"column":136,"offset":4750},"indent":[]}},{"type":"inlineCode","value":"pip","position":{"start":{"line":80,"column":136,"offset":4750},"end":{"line":80,"column":141,"offset":4755},"indent":[]}},{"type":"text","value":" (Python's built-in package manager). I'm going to use ","position":{"start":{"line":80,"column":141,"offset":4755},"end":{"line":80,"column":196,"offset":4810},"indent":[]}},{"type":"inlineCode","value":"pip2","position":{"start":{"line":80,"column":196,"offset":4810},"end":{"line":80,"column":202,"offset":4816},"indent":[]}},{"type":"text","value":" here so it explicitly installs it to my Python 2 instance and not my default Python 3 instance. I'm also going to use ","position":{"start":{"line":80,"column":202,"offset":4816},"end":{"line":80,"column":321,"offset":4935},"indent":[]}},{"type":"inlineCode","value":"sudo","position":{"start":{"line":80,"column":321,"offset":4935},"end":{"line":80,"column":327,"offset":4941},"indent":[]}},{"type":"text","value":" here because the command won't have write access to the proper folders without it, and I'm too lazy to reconfigure access for just this one thing.","position":{"start":{"line":80,"column":327,"offset":4941},"end":{"line":80,"column":474,"offset":5088},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":4615},"end":{"line":80,"column":474,"offset":5088},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"$ sudo pip2 install virtualenv","position":{"start":{"line":82,"column":1,"offset":5090},"end":{"line":84,"column":4,"offset":5133},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Ok, so let's try it again...","position":{"start":{"line":86,"column":1,"offset":5135},"end":{"line":86,"column":29,"offset":5163},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":5135},"end":{"line":86,"column":29,"offset":5163},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"$ python2 -m virtualenv --python=`which python2` env && source env/bin/activate && python2 -m pip install -U pip && python2 -m pip install -r requirements.txt","position":{"start":{"line":88,"column":1,"offset":5165},"end":{"line":90,"column":4,"offset":5336},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"... ‚è∞ ","position":{"start":{"line":92,"column":1,"offset":5338},"end":{"line":92,"column":7,"offset":5344},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"this will install a bunch of dependencies","position":{"start":{"line":92,"column":8,"offset":5345},"end":{"line":92,"column":49,"offset":5386},"indent":[]}}],"position":{"start":{"line":92,"column":7,"offset":5344},"end":{"line":92,"column":50,"offset":5387},"indent":[]}},{"type":"text","value":" ‚è∞ ...","position":{"start":{"line":92,"column":50,"offset":5387},"end":{"line":92,"column":56,"offset":5393},"indent":[]}}],"position":{"start":{"line":92,"column":1,"offset":5338},"end":{"line":92,"column":56,"offset":5393},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Once you're done installing the dependencies, you can set up your VPN user accounts by editing ","position":{"start":{"line":94,"column":1,"offset":5395},"end":{"line":94,"column":96,"offset":5490},"indent":[]}},{"type":"inlineCode","value":"config.cfg","position":{"start":{"line":94,"column":96,"offset":5490},"end":{"line":94,"column":108,"offset":5502},"indent":[]}},{"type":"text","value":" to add some usernames to the list (replace ","position":{"start":{"line":94,"column":108,"offset":5502},"end":{"line":94,"column":152,"offset":5546},"indent":[]}},{"type":"inlineCode","value":"dan","position":{"start":{"line":94,"column":152,"offset":5546},"end":{"line":94,"column":157,"offset":5551},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":94,"column":157,"offset":5551},"end":{"line":94,"column":162,"offset":5556},"indent":[]}},{"type":"inlineCode","value":"jack","position":{"start":{"line":94,"column":162,"offset":5556},"end":{"line":94,"column":168,"offset":5562},"indent":[]}},{"type":"text","value":" with your usernames):","position":{"start":{"line":94,"column":168,"offset":5562},"end":{"line":94,"column":190,"offset":5584},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":5395},"end":{"line":94,"column":190,"offset":5584},"indent":[]}},{"type":"code","lang":"cfg","meta":null,"value":"# Add as many users as you want for your VPN server here.\n# Credentials will be generated for each one.\nusers:\n  - pmarsceill","position":{"start":{"line":96,"column":1,"offset":5586},"end":{"line":101,"column":4,"offset":5722},"indent":[1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"4. Setup and deploy to Digital Ocean","position":{"start":{"line":103,"column":5,"offset":5728},"end":{"line":103,"column":41,"offset":5764},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":5724},"end":{"line":103,"column":41,"offset":5764},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This single command will create a Droplet, set it up, and deploy it to your Digital Ocean account:","position":{"start":{"line":105,"column":1,"offset":5766},"end":{"line":105,"column":99,"offset":5864},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":5766},"end":{"line":105,"column":99,"offset":5864},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"$ ./algo","position":{"start":{"line":107,"column":1,"offset":5866},"end":{"line":109,"column":4,"offset":5887},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You'll need access to a Digital Ocean API key, so you should log in to your Digital Ocean account ","position":{"start":{"line":111,"column":1,"offset":5889},"end":{"line":111,"column":99,"offset":5987},"indent":[]}},{"type":"link","title":null,"url":"https://cloud.digitalocean.com/settings/api/tokens","children":[{"type":"text","value":"and generate one","position":{"start":{"line":111,"column":100,"offset":5988},"end":{"line":111,"column":116,"offset":6004},"indent":[]}}],"position":{"start":{"line":111,"column":99,"offset":5987},"end":{"line":111,"column":169,"offset":6057},"indent":[]}},{"type":"text","value":". When prompted, paste that API key into the command line.","position":{"start":{"line":111,"column":169,"offset":6057},"end":{"line":111,"column":227,"offset":6115},"indent":[]}}],"position":{"start":{"line":111,"column":1,"offset":5889},"end":{"line":111,"column":227,"offset":6115},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"  What provider would you like to use?\n    1. DigitalOcean\n    2. Amazon Lightsail\n    3. Amazon EC2\n    4. Microsoft Azure\n    5. Google Compute Engine\n    6. Scaleway\n    7. OpenStack (DreamCompute optimised)\n    8. Install to existing Ubuntu 16.04 server\n\nEnter the number of your desired provider\n: 1\n\nEnter your API token. The token must have read and write permissions (https://cloud.digitalocean.com/settings/api/tokens):\n[pasted values will not be displayed]\n:\n\nName the vpn server:\n[algo.local]: FtheFCC","position":{"start":{"line":113,"column":1,"offset":6117},"end":{"line":133,"column":4,"offset":6637},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Next, choose your location wisely -- remember streaming video services Netflix and HBOGo block restrict access in some countries.","position":{"start":{"line":135,"column":1,"offset":6639},"end":{"line":135,"column":130,"offset":6768},"indent":[]}}],"position":{"start":{"line":135,"column":1,"offset":6639},"end":{"line":135,"column":130,"offset":6768},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"  What region should the server be located in?\n    1.  Amsterdam        (Datacenter 2)\n    2.  Amsterdam        (Datacenter 3)\n    3.  Frankfurt\n    4.  London\n    5.  New York         (Datacenter 1)\n    6.  New York         (Datacenter 2)\n    7.  New York         (Datacenter 3)\n    8.  San Francisco    (Datacenter 1)\n    9.  San Francisco    (Datacenter 2)\n    10. Singapore\n    11. Toronto\n    12. Bangalore\nEnter the number of your desired region:\n[7]: 8","position":{"start":{"line":137,"column":1,"offset":6770},"end":{"line":153,"column":4,"offset":7237},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Run through the rest of your setup ‚Äî you can answer ","position":{"start":{"line":155,"column":1,"offset":7239},"end":{"line":155,"column":53,"offset":7291},"indent":[]}},{"type":"inlineCode","value":"y","position":{"start":{"line":155,"column":53,"offset":7291},"end":{"line":155,"column":56,"offset":7294},"indent":[]}},{"type":"text","value":" to everything.","position":{"start":{"line":155,"column":56,"offset":7294},"end":{"line":155,"column":71,"offset":7309},"indent":[]}}],"position":{"start":{"line":155,"column":1,"offset":7239},"end":{"line":155,"column":71,"offset":7309},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If all goes well you'll be greeted with this:","position":{"start":{"line":157,"column":1,"offset":7311},"end":{"line":157,"column":46,"offset":7356},"indent":[]}}],"position":{"start":{"line":157,"column":1,"offset":7311},"end":{"line":157,"column":46,"offset":7356},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"ok: [255.255.255.55] => {\n    \"msg\": [\n        [\n            \"\\\"#                          Congratulations!                            #\\\"\",\n            \"\\\"#                     Your Algo server is running.                     #\\\"\",\n            \"\\\"#    Config files and certificates are in the ./configs/ directory.    #\\\"\",\n            \"\\\"#              Go to https://whoer.net/ after connecting               #\\\"\",\n            \"\\\"#        and ensure that all your traffic passes through the VPN.      #\\\"\",\n            \"\\\"#               Local DNS resolver 255.255.255.55              #\\\"\",\n            \"\"\n        ],\n        \"    \\\"#                The p12 and SSH keys password for new users is XXXXXXXX             #\\\"\\n\",\n        \"    \\\"#                  The CA key password is XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX                 #\\\"\\n\",\n        \"    \\\"#      Shell access: ssh -i configs/algo.pem root@255.255.255.55        #\\\"\\n\"\n    ]\n}","position":{"start":{"line":159,"column":1,"offset":7358},"end":{"line":176,"column":4,"offset":8312},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Keep this screen handy... you'll need it later.","position":{"start":{"line":178,"column":1,"offset":8314},"end":{"line":178,"column":48,"offset":8361},"indent":[]}}],"position":{"start":{"line":178,"column":1,"offset":8314},"end":{"line":178,"column":48,"offset":8361},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You should also now be able to log into Digital Ocean and see your VPN server Droplet running:","position":{"start":{"line":180,"column":1,"offset":8363},"end":{"line":180,"column":95,"offset":8457},"indent":[]}}],"position":{"start":{"line":180,"column":1,"offset":8363},"end":{"line":180,"column":95,"offset":8457},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"./assets/diy-internet-privacy/digital-ocean.png","alt":"\"The VPN server on Digital Ocean\"","position":{"start":{"line":182,"column":1,"offset":8459},"end":{"line":182,"column":86,"offset":8544},"indent":[]}}],"position":{"start":{"line":182,"column":1,"offset":8459},"end":{"line":182,"column":86,"offset":8544},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"5. Configure a computer to connect to the VPN","position":{"start":{"line":184,"column":5,"offset":8550},"end":{"line":184,"column":50,"offset":8595},"indent":[]}}],"position":{"start":{"line":184,"column":1,"offset":8546},"end":{"line":184,"column":50,"offset":8595},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In your ","position":{"start":{"line":186,"column":1,"offset":8597},"end":{"line":186,"column":9,"offset":8605},"indent":[]}},{"type":"inlineCode","value":"algo-vpn","position":{"start":{"line":186,"column":9,"offset":8605},"end":{"line":186,"column":19,"offset":8615},"indent":[]}},{"type":"text","value":" folder, find ","position":{"start":{"line":186,"column":19,"offset":8615},"end":{"line":186,"column":33,"offset":8629},"indent":[]}},{"type":"inlineCode","value":"configs/xxx.xxx.xxx.xx/username.mobileconfig","position":{"start":{"line":186,"column":33,"offset":8629},"end":{"line":186,"column":79,"offset":8675},"indent":[]}},{"type":"text","value":". Send this file to the user of the VPN (if they use a Mac or iOS device ‚Äî if they use Windows or Linux there are equivalent VPN profiles in here). When they open this file they will be prompted with:","position":{"start":{"line":186,"column":79,"offset":8675},"end":{"line":186,"column":279,"offset":8875},"indent":[]}}],"position":{"start":{"line":186,"column":1,"offset":8597},"end":{"line":186,"column":279,"offset":8875},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"./assets/diy-internet-privacy/install-profile.png","alt":"\"VPN profile installation on MacOS\"","position":{"start":{"line":188,"column":1,"offset":8877},"end":{"line":188,"column":90,"offset":8966},"indent":[]}}],"position":{"start":{"line":188,"column":1,"offset":8877},"end":{"line":188,"column":90,"offset":8966},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"And they can continue through the installation process. Eventually, they will need to enter the password from the previous section (obfuscated with X's), not their system password:","position":{"start":{"line":190,"column":1,"offset":8968},"end":{"line":190,"column":181,"offset":9148},"indent":[]}}],"position":{"start":{"line":190,"column":1,"offset":8968},"end":{"line":190,"column":181,"offset":9148},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"\"    \\\"#                The p12 and SSH keys password for new users is XXXXXXXX             #\\\"\\n\",","position":{"start":{"line":192,"column":1,"offset":9150},"end":{"line":194,"column":4,"offset":9257},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Voila, they should be connected automatically. Open up network preferences and they should see something like:","position":{"start":{"line":196,"column":1,"offset":9259},"end":{"line":196,"column":111,"offset":9369},"indent":[]}}],"position":{"start":{"line":196,"column":1,"offset":9259},"end":{"line":196,"column":111,"offset":9369},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"./assets/diy-internet-privacy/network-settings.png","alt":"\"Network settings showing VPN connected on MacOS\"","position":{"start":{"line":198,"column":1,"offset":9371},"end":{"line":198,"column":105,"offset":9475},"indent":[]}}],"position":{"start":{"line":198,"column":1,"offset":9371},"end":{"line":198,"column":105,"offset":9475},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I turned off the ","position":{"start":{"line":200,"column":1,"offset":9477},"end":{"line":200,"column":18,"offset":9494},"indent":[]}},{"type":"inlineCode","value":"connect on demand","position":{"start":{"line":200,"column":18,"offset":9494},"end":{"line":200,"column":37,"offset":9513},"indent":[]}},{"type":"text","value":" option because I like to manually connect to VPN when I need to, not automatically connect when not on a trusted network.","position":{"start":{"line":200,"column":37,"offset":9513},"end":{"line":200,"column":159,"offset":9635},"indent":[]}}],"position":{"start":{"line":200,"column":1,"offset":9477},"end":{"line":200,"column":159,"offset":9635},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"layout\":\"post\",\"title\":\"DIY internet privacy\",\"tags\":[\"journal\",\"IPSec\",\"VPN\",\"DIY\"],\"date\":\"2018-03-27 14:38\",\"description\":\"Roll your own VPN for (almost) free\",\"featuredImage\":\"./assets/diy-internet-privacy/featured.png\"}","position":{"start":{"line":203,"column":1,"offset":9638},"end":{"line":203,"column":255,"offset":9892},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":203,"column":255,"offset":9892}}},"scopeImports":["import Button from \"../../src/components/button\"","import * as React from 'react'"],"scopeIdentifiers":["Button","React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"layout\": \"post\",\n  \"title\": \"DIY internet privacy\",\n  \"tags\": [\"journal\", \"IPSec\", \"VPN\", \"DIY\"],\n  \"date\": \"2018-03-27 14:38\",\n  \"description\": \"Roll your own VPN for (almost) free\",\n  \"featuredImage\": \"./assets/diy-internet-privacy/featured.png\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"For years Virtual Private Networks have been used by corporations to provide a secure channel to employees for access to sensitive company data or systems. In simple terms, a VPN server acts as a proxy and all network traffic is routed through it, encapsulated, encrypted and delivered to the end-user. This type of private secure delivery doesn\\u2019t only have business applications, though.\"), mdx(\"p\", null, \"Internet privacy \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.aclu.org/issues/privacy-technology/internet-privacy/status-internet-privacy-legislation-state\"\n  }, \"laws have been changing\"), \". \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.huffingtonpost.com/entry/republicans-are-about-to-kill-rules-banning-internet-providers-from-sharing-your-web-history-without-your-consent_us_58d9a4cbe4b00f68a5ca2c7c\"\n  }, \"A lot\"), \". Internet Service Providers have unprecedented access to record and analyze your online activity, and a VPN can be a good defense against such prying. There is also the added benefit of spoofing your geographic location (IP-based geolocation services would pick up the location of the VPN server that you connect to, not your physical location), which is a great way to stream Netflix while vacationing out of the country.\"), mdx(\"p\", null, \"Having a VPN server laying around for this type of personal use has historically been cost-prohibitive. But we live in 2018 now, and cloud-based hosting is very cheap (or free) and a lot of IP security tools are open source. This is great if you\\u2019re willing to tinker with the setup to make it work for you \\u2014 which hopefully this post can help with.\"), mdx(\"h2\", null, \"Open Source to the rescue\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://blog.trailofbits.com/2016/12/12/meet-algo-the-vpn-that-works/\"\n  }, \"Algo VPN\"), \" is an open source VPN server geared toward security and ease-of-use. It comes with IPSec features that make allow you to secure your sessions out-of-the-box. Here is a quick set up guide and some issues that I ran into while setting it up for the first time.\"), mdx(\"h3\", null, \"1. Figure out where you want to host this\"), mdx(\"p\", null, \"I choose Digital Ocean because it was easy, required next to no setup, and costs less than five bucks a month (and comes with a ten dollar referral credit). If you want a setup like mine, use this link to create your account\\u2026 \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Note that you don\\u2019t need to configure a Droplet or anything yet, this will happen automatically later.\")), mdx(Button, {\n    href: \"https://m.do.co/c/e675b6b6aa8e\",\n    variant: \"outline\",\n    size: \"1\",\n    mdxType: \"Button\"\n  }, \"\\uD83D\\uDC81 Sign up for Digital Ocean\"), mdx(\"h3\", null, \"2. Download the VPN server source locally\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/trailofbits/algo\"\n  }, \"Algo\\u2019s source is hosted on GitHub\"), \", you can download a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"zip\"), \" file of the source:\"), mdx(Button, {\n    href: \"https://github.com/trailofbits/algo/archive/master.zip\",\n    variant: \"outline\",\n    size: \"1\",\n    mdxType: \"Button\"\n  }, \"\\u2B07 Algo VPN source (.zip)\"), mdx(\"p\", null, \"Extract the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"zip\"), \" file. This will create a folder called \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"algo-master\"), \". Rename it to whatever you want and put it somewhere that you\\u2019ll remember. For the purposes of these instructions, let\\u2019s rename it \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"algo-vpn\"), \". The rest of these instructions assume that you\\u2019re on a Mac, as that is what I used\\u2026 but there are \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/trailofbits/algo#deploy-the-algo-server\"\n  }, \"Linux and Windows-based docs\"), \".\"), mdx(\"h3\", null, \"3. Configure the server locally\"), mdx(\"p\", null, \"Fire up Terminal and \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"cd\"), \" to your \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"algo-vpn\"), \" folder\\u2026\"), mdx(\"p\", null, \"The first thing you want to do is check to see if you have \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"python\"), \" installed\\u2026\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-shell\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"$ \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"which\"), \" python\"))), mdx(\"p\", null, \"You may get back \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"python not found\"), \" (which means you need to install Python 2) or something like \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"/usr/local/bin/python2\"), \" (which means you already have it) or, in my case \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"python: aliased to python3\"), \"\\u2026\"), mdx(\"p\", null, \"Algo \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"requires\"), \" Python 2. If you\\u2019re unsure what version you\\u2019re running \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"python --version\"), \" will give you a clue.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-shell\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"$ python --version\\nPython \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"3.6\"), \".3\"))), mdx(\"p\", null, \"So I\\u2019m running Python 3 (which I installed from \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://brew.sh\"\n  }, \"Homebrew\"), \"). This means that I need also install Python 2 and tell my computer to use it and not Python 3 for this\\u2026\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-shell\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"$ brew \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"install\"), \" python2\"))), mdx(\"p\", null, \"Ok, now let\\u2019s see how my Python versions are setup:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-shell\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"$ \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"which\"), \" python\\npython: aliased to python3\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-shell\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"$ python --version\\nPython \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"3.6\"), \".3\"))), mdx(\"p\", null, \"\\uD83D\\uDC4D I wanted this to remain my default Python for other nerdy shit that I\\u2019m into.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-shell\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"$ python2 --version\\nPython \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"2.7\"), \".14\"))), mdx(\"p\", null, \"\\uD83D\\uDC4D\\uD83D\\uDC4D I now have access to Python 2 using \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"python2\"), \" from the command line.\"), mdx(\"p\", null, \"Now we can follow the install instructions from the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/trailofbits/algo\"\n  }, \"Algo GitHub repo\"), \", replacing the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"python\"), \" command to use \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"python2\"), \" instead\\u2026\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-shell\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"$ python2 -m virtualenv --python\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token variable\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"`\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"which\"), \" python2\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"`\")), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"env\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"&&\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token builtin class-name\"\n  }, \"source\"), \" env/bin/activate \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"&&\"), \" python2 -m pip \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"install\"), \" -U pip \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"&&\"), \" python2 -m pip \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"install\"), \" -r requirements.txt\"))), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"but\"), \" this doesn\\u2019t work because my Python 2 doesn\\u2019t have the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"virtualenv\"), \" module installed yet. To install \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"virtualenv\"), \" it, I must use \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"pip\"), \" (Python\\u2019s built-in package manager). I\\u2019m going to use \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"pip2\"), \" here so it explicitly installs it to my Python 2 instance and not my default Python 3 instance. I\\u2019m also going to use \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"sudo\"), \" here because the command won\\u2019t have write access to the proper folders without it, and I\\u2019m too lazy to reconfigure access for just this one thing.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-shell\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"$ \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"sudo\"), \" pip2 \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"install\"), \" virtualenv\"))), mdx(\"p\", null, \"Ok, so let\\u2019s try it again\\u2026\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-shell\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"$ python2 -m virtualenv --python\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token variable\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"`\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"which\"), \" python2\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"`\")), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"env\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"&&\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token builtin class-name\"\n  }, \"source\"), \" env/bin/activate \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"&&\"), \" python2 -m pip \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"install\"), \" -U pip \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"&&\"), \" python2 -m pip \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"install\"), \" -r requirements.txt\"))), mdx(\"p\", null, \"\\u2026 \\u23F0 \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"this will install a bunch of dependencies\"), \" \\u23F0 \\u2026\"), mdx(\"p\", null, \"Once you\\u2019re done installing the dependencies, you can set up your VPN user accounts by editing \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"config.cfg\"), \" to add some usernames to the list (replace \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"dan\"), \" and \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"jack\"), \" with your usernames):\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"cfg\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-cfg\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cfg\"\n  }, \"# Add as many users as you want for your VPN server here.\\n# Credentials will be generated for each one.\\nusers:\\n  - pmarsceill\"))), mdx(\"h3\", null, \"4. Setup and deploy to Digital Ocean\"), mdx(\"p\", null, \"This single command will create a Droplet, set it up, and deploy it to your Digital Ocean account:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-shell\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"$ ./algo\"))), mdx(\"p\", null, \"You\\u2019ll need access to a Digital Ocean API key, so you should log in to your Digital Ocean account \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://cloud.digitalocean.com/settings/api/tokens\"\n  }, \"and generate one\"), \". When prompted, paste that API key into the command line.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"  What provider would you like to use?\\n    1. DigitalOcean\\n    2. Amazon Lightsail\\n    3. Amazon EC2\\n    4. Microsoft Azure\\n    5. Google Compute Engine\\n    6. Scaleway\\n    7. OpenStack (DreamCompute optimised)\\n    8. Install to existing Ubuntu 16.04 server\\n\\nEnter the number of your desired provider\\n: 1\\n\\nEnter your API token. The token must have read and write permissions (https://cloud.digitalocean.com/settings/api/tokens):\\n[pasted values will not be displayed]\\n:\\n\\nName the vpn server:\\n[algo.local]: FtheFCC\"))), mdx(\"p\", null, \"Next, choose your location wisely \\u2014 remember streaming video services Netflix and HBOGo block restrict access in some countries.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"  What region should the server be located in?\\n    1.  Amsterdam        (Datacenter 2)\\n    2.  Amsterdam        (Datacenter 3)\\n    3.  Frankfurt\\n    4.  London\\n    5.  New York         (Datacenter 1)\\n    6.  New York         (Datacenter 2)\\n    7.  New York         (Datacenter 3)\\n    8.  San Francisco    (Datacenter 1)\\n    9.  San Francisco    (Datacenter 2)\\n    10. Singapore\\n    11. Toronto\\n    12. Bangalore\\nEnter the number of your desired region:\\n[7]: 8\"))), mdx(\"p\", null, \"Run through the rest of your setup \\u2014 you can answer \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"y\"), \" to everything.\"), mdx(\"p\", null, \"If all goes well you\\u2019ll be greeted with this:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"json\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-json\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"ok\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"255.255\"), \".\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"255.55\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), \" => \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"msg\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n            \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"\\\\\\\"#                          Congratulations!                            #\\\\\\\"\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n            \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"\\\\\\\"#                     Your Algo server is running.                     #\\\\\\\"\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n            \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"\\\\\\\"#    Config files and certificates are in the ./configs/ directory.    #\\\\\\\"\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n            \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"\\\\\\\"#              Go to https://whoer.net/ after connecting               #\\\\\\\"\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n            \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"\\\\\\\"#        and ensure that all your traffic passes through the VPN.      #\\\\\\\"\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n            \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"\\\\\\\"#               Local DNS resolver 255.255.255.55              #\\\\\\\"\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n            \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"\\\"\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"    \\\\\\\"#                The p12 and SSH keys password for new users is XXXXXXXX             #\\\\\\\"\\\\n\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"    \\\\\\\"#                  The CA key password is XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX                 #\\\\\\\"\\\\n\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"    \\\\\\\"#      Shell access: ssh -i configs/algo.pem root@255.255.255.55        #\\\\\\\"\\\\n\\\"\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\")))), mdx(\"p\", null, \"Keep this screen handy\\u2026 you\\u2019ll need it later.\"), mdx(\"p\", null, \"You should also now be able to log into Digital Ocean and see your VPN server Droplet running:\"), mdx(\"figure\", {\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1200px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/ba366300b8b2104ee97c91b718e11836/11864/digital-ocean.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"18%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdklEQVQI15XNSQpDMQwD0Nz/qB3AqZN4kuPSfArd9i2FhNqwiggA9b/Gy3ee9Y+IEBF3z4RYiuUVnuQDQCbajeaTw9zj6+oR0Ys5EzTj3h2AmfXe11oiAkAd7TGDWEU0zt7d96Gqc85zEqayzyEzE9EYo6pY6w10NerLURmCSAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"\\\"The VPN server on Digital Ocean\\\"\",\n    \"title\": \"\\\"The VPN server on Digital Ocean\\\"\",\n    \"src\": \"/static/ba366300b8b2104ee97c91b718e11836/c1b63/digital-ocean.png\",\n    \"srcSet\": [\"/static/ba366300b8b2104ee97c91b718e11836/5a46d/digital-ocean.png 300w\", \"/static/ba366300b8b2104ee97c91b718e11836/0a47e/digital-ocean.png 600w\", \"/static/ba366300b8b2104ee97c91b718e11836/c1b63/digital-ocean.png 1200w\", \"/static/ba366300b8b2104ee97c91b718e11836/d61c2/digital-ocean.png 1800w\", \"/static/ba366300b8b2104ee97c91b718e11836/11864/digital-ocean.png 2034w\"],\n    \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"\\\"The VPN server on Digital Ocean\\\"\"), \"\\n  \"), mdx(\"h3\", null, \"5. Configure a computer to connect to the VPN\"), mdx(\"p\", null, \"In your \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"algo-vpn\"), \" folder, find \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"configs/xxx.xxx.xxx.xx/username.mobileconfig\"), \". Send this file to the user of the VPN (if they use a Mac or iOS device \\u2014 if they use Windows or Linux there are equivalent VPN profiles in here). When they open this file they will be prompted with:\"), mdx(\"figure\", {\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1200px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/6b35073c55cf8a269641e9bd9c467e3a/a3ebb/install-profile.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"65.66666666666667%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABm0lEQVQ4y31S127DMAz0/39N3jq+oW8NMhpbtjM85O04O9EVx1aBHbQRQJCUeMclx/2aG3/2gc06MjrVSOIEmc4Q+iF85SPwA8wmM4w/x/Bc70cWHpSrkCQJ0iRFHMXQWoN4J45j6KI0SZYjjiIopQbieR7W6zXquv5XqqoSTVKnqWszen3H6OXN5HmG+XwuRIvFQsioV6uVVCMVpSmiKBItxWiN/X6P4/EopE5RFAjDEEEQ4HQ64XA4DISBBOx2u6fCWFbqMMPlcsH5fEbbtvfM2+12ACCpFSYhOM9z8YlhYULINmjYOdiZMJG9I5BxSnmYTKdi864sy8EMSew0TYPHc7vdJLMxRnxqCgHK96Xi6/Uqcf3TdR0cMvdB/xHysC1unMA+xr4/JeSQOVvOiz6FVfGOmrG8s3pA+JiJABJxHMvlUlplxfbYdi2ZtYWwaRrzG2e1PPYJGEjyzWYD13VlGX8dIeS22rY1/CZ9YeV9myTcLiu2G6aQROK6DmVVy7e5sCWttcmyTL4LtbX7Pom4GOvf4xlHO8vxDfVE3/+J4HpYAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"\\\"VPN profile installation on MacOS\\\"\",\n    \"title\": \"\\\"VPN profile installation on MacOS\\\"\",\n    \"src\": \"/static/6b35073c55cf8a269641e9bd9c467e3a/c1b63/install-profile.png\",\n    \"srcSet\": [\"/static/6b35073c55cf8a269641e9bd9c467e3a/5a46d/install-profile.png 300w\", \"/static/6b35073c55cf8a269641e9bd9c467e3a/0a47e/install-profile.png 600w\", \"/static/6b35073c55cf8a269641e9bd9c467e3a/c1b63/install-profile.png 1200w\", \"/static/6b35073c55cf8a269641e9bd9c467e3a/a3ebb/install-profile.png 1333w\"],\n    \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"\\\"VPN profile installation on MacOS\\\"\"), \"\\n  \"), mdx(\"p\", null, \"And they can continue through the installation process. Eventually, they will need to enter the password from the previous section (obfuscated with X\\u2019s), not their system password:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"\\\"    \\\\\\\"#                The p12 and SSH keys password for new users is XXXXXXXX             #\\\\\\\"\\\\n\\\",\"))), mdx(\"p\", null, \"Voila, they should be connected automatically. Open up network preferences and they should see something like:\"), mdx(\"figure\", {\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1200px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/6c485a49ae980591a75ba77e8e8d9b71/4e814/network-settings.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"84.33333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACpklEQVQ4y4WUy27TQBSG837sEUIgseVNEE+AVNEFe1aw4QlaKQ0lpbk3vs547Lk5tuMkFap/dMaxe5Ng8WucyZlv5pz/zAyi8eVdMB2CMdEoKSESgSzLEPohvBsPvudjNplhej11v0nrlYfI86ClgswkUpHCaOM04FEIHocN5wmSJEHCE0RRhDAM3Tdn3I30X5ZmSNMMRklcexlCJpCKBJxzCCGcBsbaRmsLrXWjtYE2xsF830eapg5eFAV2u53Ttq6xr0tcBiVioWGNprW9BrZQyDcp9tUGwB0Of+4giz3ShCOKY8RxjOl0ivF4jOFwiIuLCwRBAMEjsDhGFLUxtDFlMfg6CvHi0xqvThK8/Jzi9UmEj98ChMfAxWKBs7MzjEYjnJ+f4+rq6gi4hz0C/vjF8e50jfdfArw98fHmdI0P31dgjB+DmUufTtWpA1BpaOzkgAer0eQpSpsCOwW+bfAzOUCJGH4Q9jBazBhzIiAZQDXuRPMOWBgDk0kk5KBUqMoKVVkiZgye57kUqXaTycSBOjgZtd1ue9EG5Pag1AqlUs5dawzKqkZZbd1i2pUAVD8CdqlZa1HXtQNVVfUESCcUAmEUOQDBymrX14nG1WrlUqeRHKdN1uu1S5UuAek+ZaVQaQ1jrUvj9rbGtjLOjO5EBKXgDk6w5XLZz3fmOGB7wrbbGUuwrxUONfUg72HR8fT0TXWl2M7lZ21TagOSVApSZi7lerdHHEd98L/0rG3KXKIwApuiRJ5bGJtDqjZlapswbF3t9BDQGUfqgdboJssE1abZ5DnSTLnAZSAw/H2DxXyK68kE8/kcs9nM3ZyHKZJBBKRHgyUCgzZV2ZBjdLntsX2klI9ETj6dU0r187RWKY1B+8ro9rVRygWRHr4g/xP1ZbfmL76Z3e3C1DehAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"\\\"Network settings showing VPN connected on MacOS\\\"\",\n    \"title\": \"\\\"Network settings showing VPN connected on MacOS\\\"\",\n    \"src\": \"/static/6c485a49ae980591a75ba77e8e8d9b71/c1b63/network-settings.png\",\n    \"srcSet\": [\"/static/6c485a49ae980591a75ba77e8e8d9b71/5a46d/network-settings.png 300w\", \"/static/6c485a49ae980591a75ba77e8e8d9b71/0a47e/network-settings.png 600w\", \"/static/6c485a49ae980591a75ba77e8e8d9b71/c1b63/network-settings.png 1200w\", \"/static/6c485a49ae980591a75ba77e8e8d9b71/4e814/network-settings.png 1335w\"],\n    \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"\\\"Network settings showing VPN connected on MacOS\\\"\"), \"\\n  \"), mdx(\"p\", null, \"I turned off the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"connect on demand\"), \" option because I like to manually connect to VPN when I need to, not automatically connect when not on a trusted network.\"));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport Button from \"../../src/components/button\"\nexport const _frontmatter = {\n  \"layout\": \"post\",\n  \"title\": \"DIY internet privacy\",\n  \"tags\": [\"journal\", \"IPSec\", \"VPN\", \"DIY\"],\n  \"date\": \"2018-03-27 14:38\",\n  \"description\": \"Roll your own VPN for (almost) free\",\n  \"featuredImage\": \"./assets/diy-internet-privacy/featured.png\"\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <p>{`For years Virtual Private Networks have been used by corporations to provide a secure channel to employees for access to sensitive company data or systems. In simple terms, a VPN server acts as a proxy and all network traffic is routed through it, encapsulated, encrypted and delivered to the end-user. This type of private secure delivery doesn‚Äôt only have business applications, though.`}</p>\n    <p>{`Internet privacy `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.aclu.org/issues/privacy-technology/internet-privacy/status-internet-privacy-legislation-state\"\n      }}>{`laws have been changing`}</a>{`. `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.huffingtonpost.com/entry/republicans-are-about-to-kill-rules-banning-internet-providers-from-sharing-your-web-history-without-your-consent_us_58d9a4cbe4b00f68a5ca2c7c\"\n      }}>{`A lot`}</a>{`. Internet Service Providers have unprecedented access to record and analyze your online activity, and a VPN can be a good defense against such prying. There is also the added benefit of spoofing your geographic location (IP-based geolocation services would pick up the location of the VPN server that you connect to, not your physical location), which is a great way to stream Netflix while vacationing out of the country.`}</p>\n    <p>{`Having a VPN server laying around for this type of personal use has historically been cost-prohibitive. But we live in 2018 now, and cloud-based hosting is very cheap (or free) and a lot of IP security tools are open source. This is great if you‚Äôre willing to tinker with the setup to make it work for you ‚Äî which hopefully this post can help with.`}</p>\n    <h2>{`Open Source to the rescue`}</h2>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://blog.trailofbits.com/2016/12/12/meet-algo-the-vpn-that-works/\"\n      }}>{`Algo VPN`}</a>{` is an open source VPN server geared toward security and ease-of-use. It comes with IPSec features that make allow you to secure your sessions out-of-the-box. Here is a quick set up guide and some issues that I ran into while setting it up for the first time.`}</p>\n    <h3>{`1. Figure out where you want to host this`}</h3>\n    <p>{`I choose Digital Ocean because it was easy, required next to no setup, and costs less than five bucks a month (and comes with a ten dollar referral credit). If you want a setup like mine, use this link to create your account‚Ä¶ `}<em parentName=\"p\">{`Note that you don‚Äôt need to configure a Droplet or anything yet, this will happen automatically later.`}</em></p>\n    <Button href=\"https://m.do.co/c/e675b6b6aa8e\" variant=\"outline\" size=\"1\" mdxType=\"Button\">üíÅ Sign up for Digital Ocean</Button>\n    <h3>{`2. Download the VPN server source locally`}</h3>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://github.com/trailofbits/algo\"\n      }}>{`Algo‚Äôs source is hosted on GitHub`}</a>{`, you can download a `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`zip`}</code>{` file of the source:`}</p>\n    <Button href=\"https://github.com/trailofbits/algo/archive/master.zip\" variant=\"outline\" size=\"1\" mdxType=\"Button\">‚¨á Algo VPN source (.zip)</Button>\n    <p>{`Extract the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`zip`}</code>{` file. This will create a folder called `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`algo-master`}</code>{`. Rename it to whatever you want and put it somewhere that you‚Äôll remember. For the purposes of these instructions, let‚Äôs rename it `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`algo-vpn`}</code>{`. The rest of these instructions assume that you‚Äôre on a Mac, as that is what I used‚Ä¶ but there are `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/trailofbits/algo#deploy-the-algo-server\"\n      }}>{`Linux and Windows-based docs`}</a>{`.`}</p>\n    <h3>{`3. Configure the server locally`}</h3>\n    <p>{`Fire up Terminal and `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`cd`}</code>{` to your `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`algo-vpn`}</code>{` folder‚Ä¶`}</p>\n    <p>{`The first thing you want to do is check to see if you have `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`python`}</code>{` installed‚Ä¶`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-shell\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`$ `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`which`}</span>{` python`}</code></pre></div>\n    <p>{`You may get back `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`python not found`}</code>{` (which means you need to install Python 2) or something like `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`/usr/local/bin/python2`}</code>{` (which means you already have it) or, in my case `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`python: aliased to python3`}</code>{`‚Ä¶`}</p>\n    <p>{`Algo `}<em parentName=\"p\">{`requires`}</em>{` Python 2. If you‚Äôre unsure what version you‚Äôre running `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`python --version`}</code>{` will give you a clue.`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-shell\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`$ python --version\nPython `}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`3.6`}</span>{`.3`}</code></pre></div>\n    <p>{`So I‚Äôm running Python 3 (which I installed from `}<a parentName=\"p\" {...{\n        \"href\": \"https://brew.sh\"\n      }}>{`Homebrew`}</a>{`). This means that I need also install Python 2 and tell my computer to use it and not Python 3 for this‚Ä¶`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-shell\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`$ brew `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`install`}</span>{` python2`}</code></pre></div>\n    <p>{`Ok, now let‚Äôs see how my Python versions are setup:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-shell\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`$ `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`which`}</span>{` python\npython: aliased to python3`}</code></pre></div>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-shell\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`$ python --version\nPython `}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`3.6`}</span>{`.3`}</code></pre></div>\n    <p>{`üëç I wanted this to remain my default Python for other nerdy shit that I‚Äôm into.`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-shell\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`$ python2 --version\nPython `}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`2.7`}</span>{`.14`}</code></pre></div>\n    <p>{`üëçüëç I now have access to Python 2 using `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`python2`}</code>{` from the command line.`}</p>\n    <p>{`Now we can follow the install instructions from the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/trailofbits/algo\"\n      }}>{`Algo GitHub repo`}</a>{`, replacing the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`python`}</code>{` command to use `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`python2`}</code>{` instead‚Ä¶`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-shell\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`$ python2 -m virtualenv --python`}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span><span parentName=\"code\" {...{\n            \"className\": \"token variable\"\n          }}><span parentName=\"span\" {...{\n              \"className\": \"token variable\"\n            }}>{`\\``}</span><span parentName=\"span\" {...{\n              \"className\": \"token function\"\n            }}>{`which`}</span>{` python2`}<span parentName=\"span\" {...{\n              \"className\": \"token variable\"\n            }}>{`\\``}</span></span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`env`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`&&`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token builtin class-name\"\n          }}>{`source`}</span>{` env/bin/activate `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`&&`}</span>{` python2 -m pip `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`install`}</span>{` -U pip `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`&&`}</span>{` python2 -m pip `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`install`}</span>{` -r requirements.txt`}</code></pre></div>\n    <p><em parentName=\"p\">{`but`}</em>{` this doesn‚Äôt work because my Python 2 doesn‚Äôt have the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`virtualenv`}</code>{` module installed yet. To install `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`virtualenv`}</code>{` it, I must use `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`pip`}</code>{` (Python‚Äôs built-in package manager). I‚Äôm going to use `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`pip2`}</code>{` here so it explicitly installs it to my Python 2 instance and not my default Python 3 instance. I‚Äôm also going to use `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`sudo`}</code>{` here because the command won‚Äôt have write access to the proper folders without it, and I‚Äôm too lazy to reconfigure access for just this one thing.`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-shell\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`$ `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`sudo`}</span>{` pip2 `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`install`}</span>{` virtualenv`}</code></pre></div>\n    <p>{`Ok, so let‚Äôs try it again‚Ä¶`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-shell\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`$ python2 -m virtualenv --python`}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span><span parentName=\"code\" {...{\n            \"className\": \"token variable\"\n          }}><span parentName=\"span\" {...{\n              \"className\": \"token variable\"\n            }}>{`\\``}</span><span parentName=\"span\" {...{\n              \"className\": \"token function\"\n            }}>{`which`}</span>{` python2`}<span parentName=\"span\" {...{\n              \"className\": \"token variable\"\n            }}>{`\\``}</span></span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`env`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`&&`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token builtin class-name\"\n          }}>{`source`}</span>{` env/bin/activate `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`&&`}</span>{` python2 -m pip `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`install`}</span>{` -U pip `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`&&`}</span>{` python2 -m pip `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`install`}</span>{` -r requirements.txt`}</code></pre></div>\n    <p>{`‚Ä¶ ‚è∞ `}<em parentName=\"p\">{`this will install a bunch of dependencies`}</em>{` ‚è∞ ‚Ä¶`}</p>\n    <p>{`Once you‚Äôre done installing the dependencies, you can set up your VPN user accounts by editing `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`config.cfg`}</code>{` to add some usernames to the list (replace `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`dan`}</code>{` and `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`jack`}</code>{` with your usernames):`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"cfg\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-cfg\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-cfg\"\n        }}>{`# Add as many users as you want for your VPN server here.\n# Credentials will be generated for each one.\nusers:\n  - pmarsceill`}</code></pre></div>\n    <h3>{`4. Setup and deploy to Digital Ocean`}</h3>\n    <p>{`This single command will create a Droplet, set it up, and deploy it to your Digital Ocean account:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-shell\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`$ ./algo`}</code></pre></div>\n    <p>{`You‚Äôll need access to a Digital Ocean API key, so you should log in to your Digital Ocean account `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.digitalocean.com/settings/api/tokens\"\n      }}>{`and generate one`}</a>{`. When prompted, paste that API key into the command line.`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"text\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-text\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-text\"\n        }}>{`  What provider would you like to use?\n    1. DigitalOcean\n    2. Amazon Lightsail\n    3. Amazon EC2\n    4. Microsoft Azure\n    5. Google Compute Engine\n    6. Scaleway\n    7. OpenStack (DreamCompute optimised)\n    8. Install to existing Ubuntu 16.04 server\n\nEnter the number of your desired provider\n: 1\n\nEnter your API token. The token must have read and write permissions (https://cloud.digitalocean.com/settings/api/tokens):\n[pasted values will not be displayed]\n:\n\nName the vpn server:\n[algo.local]: FtheFCC`}</code></pre></div>\n    <p>{`Next, choose your location wisely ‚Äî remember streaming video services Netflix and HBOGo block restrict access in some countries.`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"text\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-text\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-text\"\n        }}>{`  What region should the server be located in?\n    1.  Amsterdam        (Datacenter 2)\n    2.  Amsterdam        (Datacenter 3)\n    3.  Frankfurt\n    4.  London\n    5.  New York         (Datacenter 1)\n    6.  New York         (Datacenter 2)\n    7.  New York         (Datacenter 3)\n    8.  San Francisco    (Datacenter 1)\n    9.  San Francisco    (Datacenter 2)\n    10. Singapore\n    11. Toronto\n    12. Bangalore\nEnter the number of your desired region:\n[7]: 8`}</code></pre></div>\n    <p>{`Run through the rest of your setup ‚Äî you can answer `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`y`}</code>{` to everything.`}</p>\n    <p>{`If all goes well you‚Äôll be greeted with this:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"json\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-json\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-json\"\n        }}>{`ok`}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span><span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`255.255`}</span>{`.`}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`255.55`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span>{` => `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token property\"\n          }}>{`\"msg\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"\\\\\"#                          Congratulations!                            #\\\\\"\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"\\\\\"#                     Your Algo server is running.                     #\\\\\"\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"\\\\\"#    Config files and certificates are in the ./configs/ directory.    #\\\\\"\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"\\\\\"#              Go to https://whoer.net/ after connecting               #\\\\\"\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"\\\\\"#        and ensure that all your traffic passes through the VPN.      #\\\\\"\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"\\\\\"#               Local DNS resolver 255.255.255.55              #\\\\\"\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"\"`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"    \\\\\"#                The p12 and SSH keys password for new users is XXXXXXXX             #\\\\\"\\\\n\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"    \\\\\"#                  The CA key password is XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX                 #\\\\\"\\\\n\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"    \\\\\"#      Shell access: ssh -i configs/algo.pem root@255.255.255.55        #\\\\\"\\\\n\"`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span></code></pre></div>\n    <p>{`Keep this screen handy‚Ä¶ you‚Äôll need it later.`}</p>\n    <p>{`You should also now be able to log into Digital Ocean and see your VPN server Droplet running:`}</p>\n    <figure {...{\n      \"className\": \"gatsby-resp-image-figure\",\n      \"style\": {}\n    }}>{`\n    `}<span parentName=\"figure\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1200px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/ba366300b8b2104ee97c91b718e11836/11864/digital-ocean.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"18%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdklEQVQI15XNSQpDMQwD0Nz/qB3AqZN4kuPSfArd9i2FhNqwiggA9b/Gy3ee9Y+IEBF3z4RYiuUVnuQDQCbajeaTw9zj6+oR0Ys5EzTj3h2AmfXe11oiAkAd7TGDWEU0zt7d96Gqc85zEqayzyEzE9EYo6pY6w10NerLURmCSAAAAABJRU5ErkJggg==')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"\\\"The VPN server on Digital Ocean\\\"\",\n            \"title\": \"\\\"The VPN server on Digital Ocean\\\"\",\n            \"src\": \"/static/ba366300b8b2104ee97c91b718e11836/c1b63/digital-ocean.png\",\n            \"srcSet\": [\"/static/ba366300b8b2104ee97c91b718e11836/5a46d/digital-ocean.png 300w\", \"/static/ba366300b8b2104ee97c91b718e11836/0a47e/digital-ocean.png 600w\", \"/static/ba366300b8b2104ee97c91b718e11836/c1b63/digital-ocean.png 1200w\", \"/static/ba366300b8b2104ee97c91b718e11836/d61c2/digital-ocean.png 1800w\", \"/static/ba366300b8b2104ee97c91b718e11836/11864/digital-ocean.png 2034w\"],\n            \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\"\n          }}></img>{`\n  `}</a>{`\n    `}</span>{`\n    `}<figcaption parentName=\"figure\" {...{\n        \"className\": \"gatsby-resp-image-figcaption\"\n      }}>{`\"The VPN server on Digital Ocean\"`}</figcaption>{`\n  `}</figure>\n    <h3>{`5. Configure a computer to connect to the VPN`}</h3>\n    <p>{`In your `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`algo-vpn`}</code>{` folder, find `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`configs/xxx.xxx.xxx.xx/username.mobileconfig`}</code>{`. Send this file to the user of the VPN (if they use a Mac or iOS device ‚Äî if they use Windows or Linux there are equivalent VPN profiles in here). When they open this file they will be prompted with:`}</p>\n    <figure {...{\n      \"className\": \"gatsby-resp-image-figure\",\n      \"style\": {}\n    }}>{`\n    `}<span parentName=\"figure\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1200px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/6b35073c55cf8a269641e9bd9c467e3a/a3ebb/install-profile.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"65.66666666666667%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABm0lEQVQ4y31S127DMAz0/39N3jq+oW8NMhpbtjM85O04O9EVx1aBHbQRQJCUeMclx/2aG3/2gc06MjrVSOIEmc4Q+iF85SPwA8wmM4w/x/Bc70cWHpSrkCQJ0iRFHMXQWoN4J45j6KI0SZYjjiIopQbieR7W6zXquv5XqqoSTVKnqWszen3H6OXN5HmG+XwuRIvFQsioV6uVVCMVpSmiKBItxWiN/X6P4/EopE5RFAjDEEEQ4HQ64XA4DISBBOx2u6fCWFbqMMPlcsH5fEbbtvfM2+12ACCpFSYhOM9z8YlhYULINmjYOdiZMJG9I5BxSnmYTKdi864sy8EMSew0TYPHc7vdJLMxRnxqCgHK96Xi6/Uqcf3TdR0cMvdB/xHysC1unMA+xr4/JeSQOVvOiz6FVfGOmrG8s3pA+JiJABJxHMvlUlplxfbYdi2ZtYWwaRrzG2e1PPYJGEjyzWYD13VlGX8dIeS22rY1/CZ9YeV9myTcLiu2G6aQROK6DmVVy7e5sCWttcmyTL4LtbX7Pom4GOvf4xlHO8vxDfVE3/+J4HpYAAAAAElFTkSuQmCC')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"\\\"VPN profile installation on MacOS\\\"\",\n            \"title\": \"\\\"VPN profile installation on MacOS\\\"\",\n            \"src\": \"/static/6b35073c55cf8a269641e9bd9c467e3a/c1b63/install-profile.png\",\n            \"srcSet\": [\"/static/6b35073c55cf8a269641e9bd9c467e3a/5a46d/install-profile.png 300w\", \"/static/6b35073c55cf8a269641e9bd9c467e3a/0a47e/install-profile.png 600w\", \"/static/6b35073c55cf8a269641e9bd9c467e3a/c1b63/install-profile.png 1200w\", \"/static/6b35073c55cf8a269641e9bd9c467e3a/a3ebb/install-profile.png 1333w\"],\n            \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\"\n          }}></img>{`\n  `}</a>{`\n    `}</span>{`\n    `}<figcaption parentName=\"figure\" {...{\n        \"className\": \"gatsby-resp-image-figcaption\"\n      }}>{`\"VPN profile installation on MacOS\"`}</figcaption>{`\n  `}</figure>\n    <p>{`And they can continue through the installation process. Eventually, they will need to enter the password from the previous section (obfuscated with X‚Äôs), not their system password:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"text\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-text\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-text\"\n        }}>{`\"    \\\\\"#                The p12 and SSH keys password for new users is XXXXXXXX             #\\\\\"\\\\n\",`}</code></pre></div>\n    <p>{`Voila, they should be connected automatically. Open up network preferences and they should see something like:`}</p>\n    <figure {...{\n      \"className\": \"gatsby-resp-image-figure\",\n      \"style\": {}\n    }}>{`\n    `}<span parentName=\"figure\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1200px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/6c485a49ae980591a75ba77e8e8d9b71/4e814/network-settings.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"84.33333333333333%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACpklEQVQ4y4WUy27TQBSG837sEUIgseVNEE+AVNEFe1aw4QlaKQ0lpbk3vs547Lk5tuMkFap/dMaxe5Ng8WucyZlv5pz/zAyi8eVdMB2CMdEoKSESgSzLEPohvBsPvudjNplhej11v0nrlYfI86ClgswkUpHCaOM04FEIHocN5wmSJEHCE0RRhDAM3Tdn3I30X5ZmSNMMRklcexlCJpCKBJxzCCGcBsbaRmsLrXWjtYE2xsF830eapg5eFAV2u53Ttq6xr0tcBiVioWGNprW9BrZQyDcp9tUGwB0Of+4giz3ShCOKY8RxjOl0ivF4jOFwiIuLCwRBAMEjsDhGFLUxtDFlMfg6CvHi0xqvThK8/Jzi9UmEj98ChMfAxWKBs7MzjEYjnJ+f4+rq6gi4hz0C/vjF8e50jfdfArw98fHmdI0P31dgjB+DmUufTtWpA1BpaOzkgAer0eQpSpsCOwW+bfAzOUCJGH4Q9jBazBhzIiAZQDXuRPMOWBgDk0kk5KBUqMoKVVkiZgye57kUqXaTycSBOjgZtd1ue9EG5Pag1AqlUs5dawzKqkZZbd1i2pUAVD8CdqlZa1HXtQNVVfUESCcUAmEUOQDBymrX14nG1WrlUqeRHKdN1uu1S5UuAek+ZaVQaQ1jrUvj9rbGtjLOjO5EBKXgDk6w5XLZz3fmOGB7wrbbGUuwrxUONfUg72HR8fT0TXWl2M7lZ21TagOSVApSZi7lerdHHEd98L/0rG3KXKIwApuiRJ5bGJtDqjZlapswbF3t9BDQGUfqgdboJssE1abZ5DnSTLnAZSAw/H2DxXyK68kE8/kcs9nM3ZyHKZJBBKRHgyUCgzZV2ZBjdLntsX2klI9ETj6dU0r187RWKY1B+8ro9rVRygWRHr4g/xP1ZbfmL76Z3e3C1DehAAAAAElFTkSuQmCC')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"\\\"Network settings showing VPN connected on MacOS\\\"\",\n            \"title\": \"\\\"Network settings showing VPN connected on MacOS\\\"\",\n            \"src\": \"/static/6c485a49ae980591a75ba77e8e8d9b71/c1b63/network-settings.png\",\n            \"srcSet\": [\"/static/6c485a49ae980591a75ba77e8e8d9b71/5a46d/network-settings.png 300w\", \"/static/6c485a49ae980591a75ba77e8e8d9b71/0a47e/network-settings.png 600w\", \"/static/6c485a49ae980591a75ba77e8e8d9b71/c1b63/network-settings.png 1200w\", \"/static/6c485a49ae980591a75ba77e8e8d9b71/4e814/network-settings.png 1335w\"],\n            \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\"\n          }}></img>{`\n  `}</a>{`\n    `}</span>{`\n    `}<figcaption parentName=\"figure\" {...{\n        \"className\": \"gatsby-resp-image-figcaption\"\n      }}>{`\"Network settings showing VPN connected on MacOS\"`}</figcaption>{`\n  `}</figure>\n    <p>{`I turned off the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`connect on demand`}</code>{` option because I like to manually connect to VPN when I need to, not automatically connect when not on a trusted network.`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}